{
    "Description":"This template will create an EOS resource",
    "Parameters":{
        "ClusterURL":{
            "Type":"String",
            "Value":"http://10.255.20.121:8056/v1"
        },
        "Host_List1":{
            "Type":"Integer",
            "Value":1
        },
        "Host_List2":{
            "Type":"Integer",
            "Value":2
        },
        "Host_List3":{
            "Type":"Integer",
            "Value":4
        }
    },
    "Resources":[
        {
            "Name":"Token",
            "Type":"Token",
            "Action":"Create",
            "Properties":{
                "Name":"admin",
                "Password":"admin"
            }
        },
        {
            "Name":"ObjectStorageUser",
            "Type":"ObjectStorageUser",
            "Properties":{
                "Name":"user1",
                "Email":"user1@xsky.com",
                "BucketQuotaMaxObjects":500,
                "BucketQuotaMaxSize":1024000,
                "UserQuotaMaxObjects":5000,
                "UserQuotaMaxSize":10240000,
                "Keys":[
                    {
                        "AccessKey":"5X8G67IR69DSAKF1ROC5",
                        "SecretKey":"8bfKxvSzpxla2XUoQCmN5482znwxvY0k8pX1V2Nl"
                    }
                ]
            }
        },
        {
            "Name":"ObjectStoragePolicy",
            "Type":"ObjectStoragePolicy",
            "Properties":{
                "Name":"policy2",
                "Compress":"false",
                "Crypto":"false",
                "Shared":"true",
                "IndexPoolID":104,
                "CachePoolID":104,
                "StorageClasses":[
                    {
                        "Name":"class_0",
                        "ClassID":"class_0",
                        "ActivePoolIDs":[
                            103
                        ]
                    }
                ]
            }
        },
        {
            "Name":"ObjectStorageBucket",
            "Type":"ObjectStorageBucket",
            "Properties":{
                "Name":"bucket01",
                "OwnerID":{
                    "Ref":"ObjectStorageUser"
                },
                "PolicyID":{
                    "Ref":"ObjectStoragePolicy"
                },
                "QuotaMaxObjects":0,
                "QuotaMaxSize":0
            }
        },
        {
            "Name":"S3LoadBalancerGroup",
            "Type":"S3LoadBalancerGroup",
            "WaitInterval":60,
            "CheckInterval":10,
            "Properties":{
                "Name":"s3lb",
                "Port":8060,
                "S3LoadBalancers":[
                    {
                        "HostID":{
                            "Ref":"Host_List1"
                        },
                        "VIP":"10.255.20.124"
                    },
                    {
                        "HostID":{
                            "Ref":"Host_List2"
                        },
                        "VIP":"10.255.20.125"
                    },
                    {
                        "HostID":{
                            "Ref":"Host_List3"
                        },
                        "VIP":"10.255.20.126"
                    }
                ]
            }
        }
    ]
}
